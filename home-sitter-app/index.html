<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AnimalSitter</title>

    <!-- Main styles -->
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <!-- =========================
         AUTH SECTION
    ========================== -->
    <section id="authSection" style="display:none;">
      <div class="auth-shell">
        <div class="auth-card">
          <div class="auth-tabs">
            <button id="loginTabBtn" class="auth-tab active" type="button">Log in</button>
            <button id="signupTabBtn" class="auth-tab" type="button">Sign up</button>
          </div>

          <div id="loginPagePanel" class="auth-panel">
            <form id="loginRealForm" class="auth-form">
              <label>
                <span>Email</span>
                <input type="email" id="realLoginEmail" class="input" required />
              </label>
              <label>
                <span>Password</span>
                <input type="password" id="realLoginPassword" class="input" required />
              </label>
              <button type="submit" class="btn-primary" style="width:100%; margin-top:10px;">
                Log in
              </button>
            </form>
          </div>

          <div id="signupPagePanel" class="auth-panel" style="display:none;">
            <form id="signupRealForm" class="auth-form">
              <label>
                <span>Full name</span>
                <input type="text" id="realSignupName" class="input" required />
              </label>
              <label>
                <span>Email</span>
                <input type="email" id="realSignupEmail" class="input" required />
              </label>
              <label>
                <span>Password</span>
                <input type="password" id="realSignupPassword" class="input" required />
              </label>
              <label>
                <span>Account type</span>
                <select id="realSignupRole" class="input" required>
                  <option value="client">Client / Pet Parent</option>
                  <option value="sitter">Sitter</option>
                </select>
              </label>
              <button type="submit" class="btn-primary" style="width:100%; margin-top:10px;">
                Create account
              </button>
            </form>
          </div>

          <div id="authPageError" class="auth-error" style="display:none;"></div>
        </div>
      </div>
    </section>

    <!-- =========================
         APP SECTION
    ========================== -->
    <section id="appSection" style="display:none;">
      <!-- TOP BAR -->
      <header class="topbar">
        <div class="topbar-left">
          <div class="logo">
            <span class="logo-mark">üêæ</span>
            <span class="logo-text">AnimalSitter</span>
          </div>

          <nav class="nav">
            <button class="nav-link active" data-page="homePage">Home</button>
            <button class="nav-link" data-page="dashboardPage">Dashboard</button>
            <button class="nav-link" data-page="swipePage">Swipe</button>
            <button class="nav-link" data-page="dogsPage">Pets</button>
            <button class="nav-link" data-page="messagesPage">Messages</button>
            <button class="nav-link" data-page="profilePage">Profile</button>
          </nav>
        </div>

        <div class="topbar-right">
          <div id="headerUserPill" class="user-pill">Guest</div>
          <button id="logoutBtn" class="btn-small">Logout</button>
        </div>
      </header>

      <!-- =========================
           PAGES
      ========================== -->
      <main class="page-shell">

        <!-- HOME -->
        <section id="homePage" class="page active">
          <div class="section-card">
            <h1>Welcome to AnimalSitter</h1>
            <p class="text-muted">
              Find trusted sitters, message them, and book with secure payment.
            </p>

            <div style="margin-top:15px;">
              <button class="btn-primary" data-page-jump="swipePage">Browse sitters</button>
              <button class="btn-secondary" data-page-jump="authPage">Log in / Sign up</button>
            </div>
          </div>

          <div class="section-card" style="margin-top:15px;">
            <h2>Featured sitters</h2>
            <div id="homeSitterGrid"></div>
          </div>
        </section>

        <!-- DASHBOARD -->
        <section id="dashboardPage" class="page">
          <div class="section-card">
            <h1>Dashboard</h1>
            <p class="text-muted">
              Your personalized dashboard will appear here based on your role.
            </p>
            <div id="dashboardRoot"></div>
          </div>
        </section>

        <!-- SWIPE -->
        <section id="swipePage" class="page">
          <div id="swipeRoot"></div>
        </section>

        <!-- PETS -->
        <section id="dogsPage" class="page">
          <div id="dogsRoot"></div>
        </section>

        <!-- MESSAGES -->
        <section id="messagesPage" class="page">
          <div id="messagesRoot"></div>
        </section>

        <!-- PROFILE -->
        <section id="profilePage" class="page">
          <div class="section-card">
            <h1>Your profile</h1>
            <p class="text-muted">
              Update your info, photo, and preferences.
            </p>
          </div>
          <div id="profileRoot"></div>
        </section>

        <!-- BOOKING -->
        <section id="bookingPage" class="page">
          <div id="bookingRoot"></div>
        </section>

        <!-- BOOKING CONFIRM -->
        <section id="bookingConfirmPage" class="page">
          <div id="bookingConfirmRoot"></div>
        </section>

      </main>
    </section>

    <!-- =========================
         SCRIPTS
    ========================== -->

    <!-- Stripe -->
    <script src="https://js.stripe.com/v3/"></script>
    <script src="stripe.js" defer></script>

    <!-- Core -->
    <script src="state.js" defer></script>
    <script src="app.js" defer></script>

    <!-- Pages -->
    <script src="home.js" defer></script>
    <script src="dashboard.js" defer></script>
    <script src="swipe.js" defer></script>
    <script src="dogs.js" defer></script>
    <script src="messages.js" defer></script>
    <script src="profile.js" defer></script>
    <script src="booking.js" defer></script>
    <script src="authpage.js" defer></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        if (window.initStripe) window.initStripe();
      });
    </script>
  </body>
</html>
