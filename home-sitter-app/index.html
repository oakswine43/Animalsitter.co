<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AnimalSitter – Book Trusted Local Pet Sitters & Walkers</title>

  <!-- ✅ IMPORTANT: Your deployed site has styles.css in the ROOT -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Backend base URL for live API on Railway + Stripe publishable key -->
  <script>
    window.API_BASE = "https://animalsitterco-production.up.railway.app";

    // Stripe TEST publishable key (safe to be public)
    window.STRIPE_PUBLISHABLE_KEY =
      "pk_test_51QdBreC0JXa2ACwIkINq3urLuWl6mb2VdoSNFQOnyDQL1PcJt8cV2JhyGGVVaue8IZidNC7Vup0ofEOZDsNRRA9P00oN3W3WPQ";
  </script>
</head>

<body>
  <div class="app-root">
    <!-- HEADER -->
    <header class="app-header">
      <div class="app-header-inner">
        <div class="brand" data-page-jump="homePage" style="cursor:pointer;">
          <img src="img/petcare-logo.png" alt="AnimalSitter logo" class="brand-logo" />
          <span>AnimalSitter</span>
        </div>

        <nav class="main-nav">
          <button class="nav-link active" data-page="homePage">Home</button>
          <button class="nav-link" data-page="dashboardPage">Dashboard</button>
          <button class="nav-link" data-page="swipePage">Swipe</button>
          <button class="nav-link" data-page="dogsPage">Pets</button>
          <button class="nav-link" data-page="messagesPage">Messages</button>
          <button class="nav-link" data-page="profilePage">Profile</button>
        </nav>

        <div class="header-right">
          <button class="user-pill" id="userPill" type="button">Guest</button>

          <button
            type="button"
            id="openAuthBtn"
            data-page-jump="authPage"
            class="btn-small-outline"
          >
            Login / Sign up
          </button>

          <button id="logoutBtn" type="button" class="btn-small">Logout</button>
        </div>
      </div>
    </header>

    <!-- MAIN -->
    <main class="app-main">
      <div class="app-main-inner">
        <section id="appSection" style="display:block;">

          <!-- ================== HOME PAGE ================== -->
          <section id="homePage" class="page active">
            <div class="frontpage-hero">
              <div class="frontpage-hero-bg"></div>

              <div class="frontpage-hero-content">
                <div class="frontpage-search-card">
                  <div class="frontpage-search-title">Book a sitter in minutes</div>
                  <div class="frontpage-search-subtitle">Walks • Drop-ins • Daycare • Overnight</div>

                  <div class="frontpage-search-grid">
                    <label class="fp-field">
                      <span>City</span>
                      <input id="homeSearchCity" class="input" placeholder="Johnson City, TN" />
                    </label>

                    <label class="fp-field">
                      <span>Service</span>
                      <select id="homeSearchService" class="input">
                        <option value="any" selected>Any</option>
                        <option value="walk">Dog walking</option>
                        <option value="dropin">Drop-in visit</option>
                        <option value="daycare">Doggy daycare</option>
                        <option value="overnight">Overnight sitting</option>
                      </select>
                    </label>

                    <label class="fp-field">
                      <span>Start</span>
                      <input id="homeSearchStart" type="date" class="input" />
                    </label>

                    <label class="fp-field">
                      <span>End</span>
                      <input id="homeSearchEnd" type="date" class="input" />
                    </label>
                  </div>

                  <button id="homeSearchBtn" class="btn-primary fp-search-btn" type="button">
                    Search sitters
                  </button>

                  <div class="fp-trust-row">
                    <span class="fp-trust-pill">Secure payment</span>
                    <span class="fp-trust-pill">Verified sitters</span>
                    <span class="fp-trust-pill">Message first</span>
                  </div>
                </div>

                <div class="frontpage-hero-right">
                  <h1 class="frontpage-hero-h1">AnimalSitter</h1>
                  <p class="frontpage-hero-p">
                    A clean, modern booking experience for pet parents and sitters.
                    Browse sitters, message them, then book with Stripe test payments.
                  </p>

                  <div class="frontpage-hero-cta">
                    <button class="btn-secondary" type="button" data-page-jump="swipePage">Browse sitters</button>
                    <button class="btn-small-outline" type="button" data-page-jump="authPage">Log in / Sign up</button>
                  </div>
                </div>
              </div>
            </div>

            <div class="frontpage-body">
              <div class="frontpage-results">
                <div class="frontpage-results-header">
                  <h2 style="margin:0;">Top sitters near you</h2>
                  <div class="text-muted small">Tip: Click a sitter to open their full profile.</div>
                </div>

                <div id="homeResultsList" class="frontpage-list"></div>
              </div>

              <div class="frontpage-map">
                <div class="frontpage-map-header">
                  <div style="font-weight:700;">Map</div>
                  <div class="text-muted small">Pins are demo-only for now</div>
                </div>
                <div id="homeMapCanvas" class="frontpage-map-canvas">
                  <div class="frontpage-map-placeholder">
                    <div class="frontpage-map-dot"></div>
                    <div>
                      <div style="font-weight:700;">Map preview</div>
                      <div class="text-muted small">We can add real Google Maps later.</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="section-card" style="margin-top:16px;">
              <h2 style="margin-top:0;">Pup gallery</h2>
              <p class="text-muted" style="margin-top:-4px;">
                Latest posts from the community.
              </p>
              <div id="homeGalleryGrid" class="gallery-grid"></div>
            </div>
          </section>

          <!-- DASHBOARD PAGE -->
          <section id="dashboardPage" class="page">
            <div class="page-header">
              <h1>Your AnimalSitter dashboard</h1>
              <p class="page-subtitle">
                See your upcoming bookings, messages, and pet details all in one place.
              </p>
            </div>
            <div id="dashboardRoot" class="section-card">
              <p class="text-muted">
                You are logged in as guest. Your personalized dashboard will appear here.
              </p>
            </div>
          </section>

          <!-- DOGS / PETS PAGE -->
          <section id="dogsPage" class="page">
            <div class="page-header">
              <h1>Your pets</h1>
              <p class="page-subtitle">
                Add profiles for each pet so sitters know their routines, quirks, and special needs.
              </p>
            </div>
            <div class="section-card">
              <p class="text-muted">
                Soon you’ll be able to save feeding instructions, vet info, medications, and more for every pet.
              </p>
            </div>
          </section>

          <!-- SWIPE PAGE -->
          <section id="swipePage" class="page">
            <div class="page-header">
              <h1>Swipe Sitter</h1>
              <p class="page-subtitle">
                Explore sitter cards with photos, services, prices, and reviews—then swipe to match.
              </p>
            </div>
            <div class="section-card">
              <div id="swipeRoot">
                <p class="text-muted">
                  Swipe experience coming soon. For now, browse sitters from the home page or dashboard.
                </p>
              </div>
            </div>
          </section>

          <!-- MESSAGES PAGE -->
          <section id="messagesPage" class="page">
            <div class="page-header">
              <h1>Messages</h1>
              <p class="page-subtitle">
                Chat with sitters before and after you book to share details and get updates.
              </p>
            </div>
            <div class="section-card">
              <div id="messagesRoot">
                <p class="text-muted">
                  Messaging will live here once you’ve booked or favorited sitters.
                </p>
              </div>
            </div>
          </section>

          <!-- PROFILE PAGE -->
          <section id="profilePage" class="page">
            <div id="profileRoot" class="section-card">
              <p class="text-muted">Profile details will appear here.</p>
            </div>
          </section>

          <!-- SETTINGS PAGE -->
          <section id="settingsPage" class="page">
            <div class="settings-page-bar">
              <div class="settings-app-label">AnimalSitter</div>
              <div class="settings-user-label" id="settingsUserLabel">Customer: Guest</div>
            </div>

            <div class="page-header">
              <h1>Settings</h1>
              <p class="page-subtitle">
                Manage your AnimalSitter account, security, and notifications in one place.
              </p>
            </div>

            <div class="settings-layout">
              <aside id="settingsSidebar" class="settings-sidebar section-card"></aside>
              <section id="settingsMainCard" class="settings-main section-card">
                <div class="settings-main-header">
                  <h2 id="settingsMainTitle">Password &amp; Security</h2>
                  <p id="settingsMainSubtitle" class="text-muted small">
                    Select an item on the left to view and update its settings.
                  </p>
                </div>
                <div id="settingsMainBody"></div>
              </section>
            </div>
          </section>

          <!-- SITTER PROFILE PAGE -->
          <section id="sitterProfilePage" class="page">
            <div id="sitterProfileRoot" class="section-card">
              <p class="text-muted">Sitter profile details will appear here.</p>
            </div>
          </section>

          <!-- BOOKING PAGE -->
          <section id="bookingPage" class="page">
            <div class="page-header">
              <button class="btn-small" data-page-jump="sitterProfilePage">← Back to profile</button>
              <h1 style="margin-top:8px;">Book this sitter</h1>
              <p class="page-subtitle">
                Share your pet’s routine, schedule, and any special instructions so your sitter can give great care.
              </p>
            </div>

            <div class="dashboard-layout">
              <div class="dashboard-card">
                <div class="booking-sitter-summary section-card">
                  <div class="booking-sitter-main">
                    <div id="bookingSitterAvatar" class="avatar-circle"></div>
                    <div>
                      <div id="bookingSitterName" class="card-title">Sitter name</div>
                      <div class="card-subtitle">
                        <span id="bookingSitterRating">★ New</span>
                        <span> · </span>
                        <span id="bookingSitterDistance">Nearby</span>
                      </div>
                    </div>
                  </div>
                </div>

                <form id="bookingPageForm" class="auth-form" style="margin-top:8px;">
                  <div class="section-card">
                    <h3>Booking details</h3>
                    <div class="profile-form-grid">
                      <label>
                        <span>Service</span>
                        <select id="bookingService" class="input">
                          <option value="overnight">Overnight sitting</option>
                          <option value="dropin">Drop-in visit</option>
                          <option value="walk">Dog walking</option>
                          <option value="daycare">Doggy daycare</option>
                        </select>
                      </label>

                      <label>
                        <span>Date</span>
                        <input type="date" id="bookingDate" class="input" />
                      </label>

                      <label>
                        <span>Start time</span>
                        <input type="time" id="bookingStart" class="input" />
                      </label>

                      <label>
                        <span>End time</span>
                        <input type="time" id="bookingEnd" class="input" />
                      </label>

                      <label>
                        <span>Location</span>
                        <input type="text" id="bookingLocation" class="input"
                          placeholder="Your home, sitter’s home, etc." />
                      </label>
                    </div>
                  </div>

                  <div class="section-card">
                    <h3>Pet details</h3>
                    <div class="profile-form-grid">
                      <label>
                        <span>Pets</span>
                        <input type="text" id="bookingPets" class="input"
                          placeholder="e.g., Milo (2 y/o lab), Daisy (5 y/o beagle)" />
                      </label>
                      <label>
                        <span>Breed / size</span>
                        <input type="text" id="bookingBreed" class="input" placeholder="Lab mix, 65 lb" />
                      </label>
                    </div>

                    <label style="margin-top:10px;">
                      <span>Notes for your sitter</span>
                      <textarea id="bookingPetNotes" class="input" rows="4"
                        placeholder="Feeding, walks, quirks, meds, bedtime routine..."></textarea>
                    </label>
                  </div>

                  <div class="section-card">
                    <h3>Your info</h3>
                    <div class="profile-form-grid">
                      <label>
                        <span>Phone</span>
                        <input type="tel" id="bookingClientPhone" class="input" placeholder="000-000-0000" />
                      </label>
                      <label>
                        <span>Email</span>
                        <input type="email" id="bookingClientEmail" class="input" placeholder="you@example.com" />
                      </label>
                      <label style="grid-column: 1 / -1;">
                        <span>Address</span>
                        <input type="text" id="bookingClientAddress" class="input" placeholder="Street, city, state" />
                      </label>
                    </div>
                  </div>

                  <!-- Payment section is injected by booking.js (StripeHelpers) -->

                  <div class="section-card" style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-start;">
                    <button class="btn-secondary" type="submit">Request booking</button>
                    <button class="btn-primary" type="button" id="confirmPayBtn">Confirm &amp; Pay</button>
                    <button class="btn-small-outline" type="button" data-page-jump="sitterProfilePage">Back to sitter</button>
                  </div>

                  <div class="section-card">
                    <h3>Before your booking starts</h3>
                    <p class="text-muted">These are the same items you’ll see again on the confirmation page.</p>
                    <ul class="small">
                      <li>Add feeding &amp; walk instructions</li>
                      <li>Share any meds or special needs</li>
                      <li>Add emergency contact info</li>
                      <li>Explain how your sitter gets in (door code, key, etc.)</li>
                    </ul>
                  </div>
                </form>
              </div>
            </div>
          </section>

          <!-- BOOKING CONFIRM PAGE -->
          <section id="bookingConfirmPage" class="page">
            <div id="bookingConfirmRoot" class="section-card">
              <p class="text-muted">Confirmation details will appear here after payment.</p>
            </div>
          </section>

          <!-- AUTH PAGE -->
          <section id="authPage" class="page">
            <div id="authRoot" class="section-card">
              <p class="text-muted">Auth UI will render here.</p>
            </div>
          </section>

        </section>
      </div>
    </main>
  </div>

  <!-- Stripe -->
  <script src="https://js.stripe.com/v3/"></script>

  <!-- ✅ IMPORTANT: Your deployed site has these files in the ROOT -->
  <script src="stripe.js" defer></script>
  <script src="state.js" defer></script>
  <script src="app.js" defer></script>

  <script src="home.js" defer></script>
  <script src="dashboard.js" defer></script>
  <script src="swipe.js" defer></script>
  <script src="dogs.js" defer></script>
  <script src="messages.js" defer></script>
  <script src="settings.js" defer></script>
  <script src="sitterprofile.js" defer></script>
  <script src="booking.js" defer></script>
  <script src="profile.js" defer></script>
  <script src="authpage.js" defer></script>

</body>
</html>
