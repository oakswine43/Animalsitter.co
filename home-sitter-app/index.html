<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AnimalSitter</title>

    <!-- IMPORTANT: flat root path -->
    <link rel="stylesheet" href="styles.css?v=12" />

    <!-- Small safety if JS fails: show something -->
    <noscript>
      <style>
        .page {
          display: block !important;
        }
      </style>
    </noscript>
  </head>

  <body>
    <div class="app-root">
      <!-- Header -->
      <header class="app-header">
        <div class="app-header-inner">
          <div class="brand" id="brandHomeBtn" title="Go to Home">
            <img class="brand-logo" src="img/petcare-logo.png" alt="logo" />
            <span>AnimalSitter</span>
          </div>

          <nav class="main-nav" aria-label="Primary navigation">
            <button class="nav-link active" data-nav="homePage">Home</button>
            <button class="nav-link" data-nav="dashboardPage">Dashboard</button>
            <button class="nav-link" data-nav="swipePage">Swipe</button>
            <button class="nav-link" data-nav="petsPage">Pets</button>
            <button class="nav-link" data-nav="messagesPage">Messages</button>
            <button class="nav-link" data-nav="profilePage">Profile</button>
          </nav>

          <div class="header-right">
            <div class="user-pill" id="userPill">Guest</div>
            <button class="btn-small-outline" id="authOpenBtn">Login / Sign up</button>
            <button class="btn-small" id="logoutBtn" style="display: none">Logout</button>
          </div>
        </div>
      </header>

      <!-- Main -->
      <main class="app-main">
        <div class="app-main-inner">
          <!-- HOME -->
          <section class="page active" id="homePage">
            <div class="frontpage-hero">
              <div class="frontpage-hero-bg"></div>

              <div class="frontpage-hero-content">
                <!-- Search card -->
                <div class="frontpage-search-card">
                  <div class="frontpage-search-title">Find a sitter near you</div>
                  <div class="frontpage-search-subtitle">
                    Book fast. Message first. Pay securely.
                  </div>

                  <div class="frontpage-search-grid">
                    <label class="fp-field">
                      <span>City</span>
                      <input class="input" id="homeCity" value="Johnson City, TN" />
                    </label>

                    <label class="fp-field">
                      <span>Service</span>
                      <select class="input" id="homeService">
                        <option value="Any">Any</option>
                        <option value="Walks">Walks</option>
                        <option value="Drop-ins">Drop-ins</option>
                        <option value="Daycare">Daycare</option>
                        <option value="Overnight">Overnight</option>
                      </select>
                    </label>

                    <label class="fp-field">
                      <span>Start</span>
                      <input class="input" id="homeStart" type="date" />
                    </label>

                    <label class="fp-field">
                      <span>End</span>
                      <input class="input" id="homeEnd" type="date" />
                    </label>
                  </div>

                  <button class="btn-primary fp-search-btn" id="homeSearchBtn">
                    Search sitters
                  </button>

                  <div class="fp-trust-row">
                    <div class="fp-trust-pill">Verified sitters</div>
                    <div class="fp-trust-pill">Secure payments</div>
                    <div class="fp-trust-pill">Message first</div>
                  </div>
                </div>

                <!-- Hero right -->
                <div class="frontpage-hero-right">
                  <h1 class="frontpage-hero-h1">Animal care, booked in minutes.</h1>
                  <p class="frontpage-hero-p">
                    Browse sitters, message them, then request a booking. Stripe test-mode
                    payments are supported for your project demo.
                  </p>

                  <div class="frontpage-hero-cta">
                    <button class="btn-primary" id="browseSittersBtn">Browse sitters</button>
                    <button class="btn-secondary" id="goDashboardBtn">Go to dashboard</button>
                  </div>
                </div>
              </div>
            </div>

            <div class="frontpage-body">
              <!-- Results -->
              <section class="frontpage-results">
                <div class="frontpage-results-header">
                  <div>
                    <div class="eyebrow">Top sitters</div>
                    <strong>Recommended near you</strong>
                    <div class="text-muted small">
                      Tip: Click a sitter to open their profile.
                    </div>
                  </div>
                  <button class="btn-secondary" id="openSwipeBtn">Open Swipe</button>
                </div>

                <div class="frontpage-list" id="frontpageSitterList">
                  <!-- JS will fill these -->
                </div>
              </section>

              <!-- Map -->
              <section class="frontpage-map">
                <div class="frontpage-map-header">
                  <div>
                    <div class="eyebrow">Map</div>
                    <strong>Map preview</strong>
                    <div class="text-muted small">Demo pins for now (optional).</div>
                  </div>
                </div>

                <div class="frontpage-map-canvas">
                  <div class="frontpage-map-placeholder">
                    <div class="frontpage-map-dot"></div>
                    <div class="map-placeholder-text">
                      Map preview placeholder (we can wire Google Maps later)
                    </div>
                  </div>
                </div>
              </section>
            </div>
          </section>

          <!-- DASHBOARD -->
          <section class="page" id="dashboardPage">
            <div class="page-header">
              <h1>Dashboard</h1>
              <p class="page-subtitle">Your personalized dashboard will appear here.</p>
            </div>

            <div class="section-card">
              <div id="dashboardContent" class="text-muted">
                Loading your dashboard...
              </div>
            </div>
          </section>

          <!-- SWIPE -->
          <section class="page" id="swipePage">
            <div class="page-header">
              <h1>Swipe</h1>
              <p class="page-subtitle">Explore sitters and match (demo).</p>
            </div>
            <div class="section-card" id="swipeRoot"></div>
          </section>

          <!-- PETS -->
          <section class="page" id="petsPage">
            <div class="page-header">
              <h1>Pets</h1>
              <p class="page-subtitle">Manage pet profiles.</p>
            </div>
            <div class="section-card" id="petsRoot"></div>
          </section>

          <!-- MESSAGES -->
          <section class="page" id="messagesPage">
            <div class="page-header">
              <h1>Messages</h1>
              <p class="page-subtitle">Chat with sitters.</p>
            </div>
            <div class="section-card" id="messagesRoot"></div>
          </section>

          <!-- PROFILE -->
          <section class="page" id="profilePage">
            <div class="page-header">
              <h1>Profile</h1>
              <p class="page-subtitle">Account + settings.</p>
            </div>
            <div class="section-card" id="profileRoot"></div>
          </section>

          <!-- BOOKING PAGE -->
          <section class="page" id="bookingPage">
            <div class="page-header">
              <h1>Book sitter</h1>
              <p class="page-subtitle">Review details, add your info, then confirm payment.</p>
            </div>
            <div class="section-card" id="bookingRoot"></div>
          </section>

          <!-- AUTH -->
          <section class="page" id="authPage">
            <div class="page-header">
              <h1>Login / Sign up</h1>
              <p class="page-subtitle">Choose your role and continue.</p>
            </div>
            <div class="section-card" id="authRoot"></div>
          </section>
        </div>
      </main>
    </div>

    <!-- IMPORTANT: flat root paths -->
    <script src="auth.js?v=12"></script>
    <script src="state.js?v=12"></script>
    <script src="stripe.js?v=12"></script>
    <script src="app.js?v=12"></script>

    <script src="authPage.v2.js?v=12"></script>
    <script src="authpage.js?v=12"></script>
    <script src="home.js?v=12"></script>
    <script src="dashboard.js?v=12"></script>
    <script src="swipe.js?v=12"></script>
    <script src="pets.js?v=12"></script>
    <script src="dogs.js?v=12"></script>
    <script src="messages.js?v=12"></script>
    <script src="profile.js?v=12"></script>
    <script src="settings.js?v=12"></script>
    <script src="changePassword.js?v=12"></script>
    <script src="sitterprofile.js?v=12"></script>
    <script src="booking.js?v=12"></script>
    <script src="profilrshared.js?v=12"></script>

    <script>
      // Fallback: if your app.js uses a router, it will override this.
      // This ensures at least Home is visible even if the router fails.
      (function () {
        const pages = document.querySelectorAll(".page");
        if (!document.querySelector(".page.active")) {
          pages.forEach((p) => p.classList.remove("active"));
          document.getElementById("homePage")?.classList.add("active");
        }
      })();
    </script>
  </body>
</html>
